<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:pro="http://www.liquibase.org/xml/ns/pro"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd
http://www.liquibase.org/xml/ns/pro 
http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd">
	<changeSet id="create_user_type" author="asettypalli">
		<createTable tableName="user_type">
			<column name="usertype_id" type="int">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>

	<changeSet id="insert_user_type" author="asettypalli">
		<insert tableName="user_type">
			<column name="usertype_id" type="int" value="1" />
			<column name="name" type="varchar(250)" value="admin" />
		</insert>
		<insert tableName="user_type">
			<column name="usertype_id" type="int" value="2" />
			<column name="name" type="varchar(250)" value="accountant" />
		</insert>
	</changeSet>

	<changeSet id="create_user_account_details"
		author="asettypalli">
		<createTable tableName="user_account_details">
			<column name="user_id" type="int"
				defaultValueSequenceNext="user_account_seq">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="user_name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="password" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="first_name" type="varchar(250)">

			</column>
			<column name="last_name" type="varchar(250)">

			</column>
			<column name="email" type="varchar(50)">

			</column>
			<column name="status_id" type="int">

			</column>
			<column name="usertype_id" type="int">
				<constraints foreignKeyName="fk_userType_id"
					references="user_type(usertype_id)" />
			</column>
		</createTable>
	</changeSet>
	
	<!-- password is Welcome@hms2 -->
	<changeSet id="insert_user" author="asettypalli">
		<insert tableName="user_account_details">
			<column name="user_id" type="int" value="1" />
			<column name="user_name" type="varchar(250)" value="root" />
			<column name="password" type="varchar(250)" value="38c4f86410a8f4eabd49de025ce803334cd30e1a" />
			<column name="first_name" type="varchar(250)" value="root" />
			<column name="last_name" type="varchar(250)" value="user" />
			<column name="email" type="varchar(250)" value="meet2hms@gmail.com" />
			<column name="status_id" type="int" value="1" />			
			<column name="usertype_id" type="int" value="1" />
			
		</insert>
	</changeSet>
	
	<changeSet id="create_floors" author="asettypalli">
		<createTable tableName="floor">
			<column name="floor_id" type="int"
				defaultValueSequenceNext="floor-seq">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="floor_name" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="status_id" type="int">
			</column>
		</createTable>
	</changeSet>
	<changeSet id="add_column2" author="asettypalli">
		<addColumn tableName="user_account_details">
			<column name="phone_number" type="varchar(10)">
			</column>
		</addColumn>
	</changeSet>
</databaseChangeLog>